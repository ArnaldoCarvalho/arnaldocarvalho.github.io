// Suporte multi-idioma
export const translations = {
  pt: {
    language: "Português",
    title: "Consultoria Auto Premium",
    heroTitle: "Encontre o Melhor Local para seu Stand de Carros",
    heroSubtitle: "No Grande Porto, utilizando análise de dados avançada com o método Apriori.",
    startConsultation: "Iniciar Consultoria",
    innovativeMethod: "Método Inovador: ",
    innovativeDescription: "Nosso Apriori avançado incorpora machine learning leve para ajustar confianças em tempo real, garantindo recomendações mais precisas e adaptáveis às mudanças econômicas.",
    consultationTool: "Ferramenta de Consultoria com Apriori Inovador",
    consultationDescription: "Utilizamos uma versão inovadora do algoritmo Apriori que analisa associações multidimensionais em dados históricos, considerando não apenas combinações simples, mas também pesos dinâmicos baseados em tendências atuais do mercado automóvel no Grande Porto. Responda às perguntas abaixo para receber uma recomendação personalizada.",
    typeOfRange: "Tipo de Gama",
    budget: "Orçamento",
    clientType: "Tipo de Cliente Alvo",
    locationPreference: "Preferência de Localização",
    specificLocation: "Local Específico (Opcional)",
    specificLocationHelp: "Se preferir um local específico, selecione uma das opções disponíveis ou indique outro local. Caso contrário, receberá uma recomendação baseada nos seus critérios.",
    advancedFilters: "Filtros Avançados",
    budgetRange: "Faixa de Orçamento (€)",
    minimum: "Mínimo",
    maximum: "Máximo",
    carTypes: "Tipos de Carro",
    carTypesHelp: "Selecione múltiplos tipos pressionando Ctrl (ou Cmd no Mac).",
    clientAgeRange: "Faixa Etária do Cliente",
    incomeLevel: "Nível de Rendimento",
    generateRecommendation: "Gerar Recomendação",
    personalizedRecommendation: "Recomendação Personalizada",
    wasThisUseful: "Esta recomendação foi útil?",
    yes: "Sim",
    no: "Não",
    exportReport: "Exportar Relatório",
    share: "Partilhar",
    directions: "Direções",
    nearbyAmenities: "Comodidades Próximas:",
    comparisonTitle: "Comparação de Locais Recomendados",
    historyTitle: "Histórico de Recomendações",
    historyDescription: "Aqui pode ver todas as recomendações geradas anteriormente, incluindo os critérios utilizados e o feedback dado.",
    noRecommendations: "Nenhuma recomendação gerada ainda.",
    criteria: "Critérios:",
    date: "Data:",
    feedback: "Feedback:",
    more: "Mais",
    clearHistory: "Limpar Histórico",
    confirmClearHistory: "Tem certeza de que deseja limpar todo o histórico de recomendações?",
    historyCleared: "Histórico limpo com sucesso.",
    statsTitle: "Estatísticas",
    recommendationsGenerated: "Recomendações Geradas",
    clientSatisfaction: "Satisfação dos Clientes",
    yearsExperience: "Anos de Experiência",
    locationsPorto: "Locais no Grande Porto",
    testimonialsTitle: "O que Nossos Clientes Dizem",
    testimonial1: "\"A recomendação da Consultoria Auto Premium foi perfeita! Abri meu stand em Vila Nova de Gaia e o negócio está a prosperar.\"",
    testimonialAuthor1: "- João Silva, Empreendedor",
    testimonial2: "\"O método Apriori inovador deu-me confiança para investir. Recomendo a todos!\"",
    testimonialAuthor2: "- Maria Santos, Investidora",
    testimonial3: "\"Ferramenta incrível e fácil de usar. A análise de dados salvou-me milhares de euros.\"",
    testimonialAuthor3: "- Pedro Costa, Empresário",
    whyChooseUs: "Por que Escolher a Consultoria Auto Premium?",
    advancedAI: "IA Avançada",
    advancedAIDescription: "Utilizamos algoritmos de ponta para analisar tendências e fornecer recomendações precisas.",
    dataAnalysis: "Análise de Dados",
    dataAnalysisDescription: "Baseamos nossas recomendações em dados históricos reais do mercado automóvel.",
    personalizedSupport: "Suporte Personalizado",
    personalizedSupportDescription: "Oferecemos consultoria personalizada para cada cliente, garantindo o sucesso do seu negócio.",
    aboutUs: "Sobre Nós",
    aboutUsDescription: "A Consultoria Auto Premium utiliza algoritmos de mineração de dados, como o Apriori, para analisar associações em dados históricos de stands de carros no Grande Porto. Ajudamos empreendedores a escolherem os melhores locais com base em fatores como gama, orçamento e perfil de cliente.",
    analytics: "Analytics",
    analyticsTitle: "Dashboard de Analytics",
    analyticsDescription: "Análise de dados das recomendações geradas, incluindo estatísticas de sucesso e padrões de utilização.",
    locationsChartTitle: "Recomendações por Local",
    successRateChartTitle: "Taxas de Sucesso por Local",
    criteriaChartTitle: "Combinações de Critérios Mais Comuns",
    feedbackChartTitle: "Distribuição de Feedback",
    timelineChartTitle: "Recomendações ao Longo do Tempo",
    numberOfRecommendations: "Número de Recomendações",
    recommendations: "Recomendações:",
    totalRecommendation: "Total de recomendações analisadas: ", 
    rate: "Taxa",
    frequency: "Frequência",
    positive: "Positivo",
    negative: "Negativo",
    none: "Nenhum",
    cumulativeTotal: "Total Acumulado:",
    accumulatedRecommendations: "Recomendações Acumuladas",
    contact: "Entre em Contacto",
    name: "Nome",
    email: "Email",
    message: "Mensagem",
    sendMessage: "Enviar Mensagem",
    footerText: "© 2025 Consultoria Auto Premium. Todos os direitos reservados.",
    select: "Selecione",
    luxury: "Luxo",
    medium: "Médio",
    economic: "Económico",
    low: "Baixo",
    medium: "Médio",
    high: "Alto",
    families: "Famílias",
    young: "Jovens",
    executives: "Executivos",
    center: "Centro",
    suburbs: "Subúrbios",
    beach: "Próximo à Praia",
    sedan: "Sedan",
    suv: "SUV",
    hatchback: "Hatchback",
    coupe: "Coupe",
    pickup: "Pickup",
    electric: "Elétrico",
    age18_25: "18-25 anos",
    age26_40: "26-40 anos",
    age41_60: "41-60 anos",
    age60plus: "60+ anos",
    positiveFeedback: "Obrigado pelo feedback positivo! A confiança desta recomendação foi aumentada.",
    negativeFeedback: "Obrigado pelo feedback. Vamos melhorar as nossas recomendações.",
    reportExported: "Relatório exportado com sucesso!",
    recommendationCopied: "Recomendação copiada para a área de transferência!",
    coordinatesNotAvailable: "Coordenadas não disponíveis para este local.",
    restaurant: "Restaurante",
    parking: "Estacionamento",
    supermarket: "Supermercado",
    pharmacy: "Farmácia",
    distance: "Distância:",
    consultation: "Consultoria",
    history: "Histórico",
    about: "Sobre Nós",
    contactLink: "Contacto",
    logout: "Sair",
    messageSent: "Mensagem enviada com sucesso!",
    errorSendingMessage: "Erro ao enviar mensagem. Tente novamente.",
    noRecommendationAvailable: "Nenhuma recomendação disponível para enviar.",
    enterValidEmail: "Por favor, insira um email válido.",
    recommendationSent: "Recomendação enviada por email com sucesso!",
    errorSendingRecommendation: "Erro ao enviar recomendação por email. Tente novamente.",
    emailPlaceholder: "seuemail@exemplo.com"
  },
  en: {
    language: "English",
    title: "Auto Premium Consultancy",
    heroTitle: "Find the Best Location for Your Car Dealership",
    heroSubtitle: "In Greater Porto, using advanced data analysis with the Apriori method.",
    startConsultation: "Start Consultation",
    innovativeMethod: "Innovative Method: ",
    innovativeDescription: "Our advanced Apriori incorporates light machine learning to adjust confidences in real-time, ensuring more accurate and adaptable recommendations to economic changes.",
    consultationTool: "Consultation Tool with Innovative Apriori",
    consultationDescription: "We use an innovative version of the Apriori algorithm that analyzes multidimensional associations in historical data, considering not only simple combinations, but also dynamic weights based on current automotive market trends in Greater Porto. Answer the questions below to receive a personalized recommendation.",
    typeOfRange: "Type of Range",
    budget: "Budget",
    clientType: "Target Client Type",
    locationPreference: "Location Preference",
    specificLocation: "Specific Location (Optional)",
    specificLocationHelp: "If you prefer a specific location, select one of the available options or indicate another location. Otherwise, you will receive a recommendation based on your criteria.",
    advancedFilters: "Advanced Filters",
    budgetRange: "Budget Range (€)",
    minimum: "Minimum",
    maximum: "Maximum",
    carTypes: "Car Types",
    carTypesHelp: "Select multiple types by pressing Ctrl (or Cmd on Mac).",
    clientAgeRange: "Client Age Range",
    incomeLevel: "Income Level",
    generateRecommendation: "Generate Recommendation",
    personalizedRecommendation: "Personalized Recommendation",
    wasThisUseful: "Was this recommendation useful?",
    yes: "Yes",
    no: "No",
    exportReport: "Export Report",
    share: "Share",
    directions: "Directions",
    nearbyAmenities: "Nearby Amenities:",
    comparisonTitle: "Comparison of Recommended Locations",
    historyTitle: "Recommendations History",
    historyDescription: "Here you can see all previously generated recommendations, including the criteria used and the feedback given.",
    noRecommendations: "No recommendations generated yet.",
    criteria: "Criteria:",
    date: "Date:",
    feedback: "Feedback:",
    more: "More",
    clearHistory: "Clear History",
    confirmClearHistory: "Are you sure you want to clear all recommendation history?",
    historyCleared: "History cleared successfully.",
    statsTitle: "Statistics",
    recommendationsGenerated: "Recommendations Generated",
    clientSatisfaction: "Client Satisfaction",
    yearsExperience: "Years of Experience",
    locationsPorto: "Locations in Greater Porto",
    testimonialsTitle: "What Our Clients Say",
    testimonial1: "\"The recommendation from Auto Premium Consultancy was perfect! I opened my dealership in Vila Nova de Gaia and the business is thriving.\"",
    testimonialAuthor1: "- João Silva, Entrepreneur",
    testimonial2: "\"The innovative Apriori method gave me confidence to invest. I recommend it to everyone!\"",
    testimonialAuthor2: "- Maria Santos, Investor",
    testimonial3: "\"Incredible and easy-to-use tool. Data analysis saved me thousands of euros.\"",
    testimonialAuthor3: "- Pedro Costa, Businessman",
    whyChooseUs: "Why Choose Auto Premium Consultancy?",
    advancedAI: "Advanced AI",
    advancedAIDescription: "We use cutting-edge algorithms to analyze trends and provide accurate recommendations.",
    dataAnalysis: "Data Analysis",
    dataAnalysisDescription: "We base our recommendations on real historical data from the automotive market.",
    personalizedSupport: "Personalized Support",
    personalizedSupportDescription: "We offer personalized consulting for each client, ensuring the success of your business.",
    aboutUs: "About Us",
    aboutUsDescription: "Auto Premium Consultancy uses data mining algorithms, such as Apriori, to analyze associations in historical data of car dealerships in Greater Porto. We help entrepreneurs choose the best locations based on factors such as range, budget and client profile.",
    analytics: "Analytics",
    analyticsTitle: "Analytics Dashboard",
    analyticsDescription: "Data analysis of generated recommendations, including success statistics and usage patterns.",
    locationsChartTitle: "Recommendations by Location",
    successRateChartTitle: "Success Rates by Location",
    criteriaChartTitle: "Most Common Criteria Combinations",
    feedbackChartTitle: "Feedback Distribution",
    timelineChartTitle: "Recommendations Over Time",
    numberOfRecommendations: "Number of Recommendations",
    recommendations: "Recommendations:",
    totalRecommendation: "Total number of recommendations analyzed: ",
    rate: "Rate",
    frequency: "Frequency",
    positive: "Positive",
    negative: "Negative",
    none: "None",
    cumulativeTotal: "Cumulative Total:",
    accumulatedRecommendations: "Accumulated Recommendations",
    contact: "Get in Touch",
    name: "Name",
    email: "Email",
    message: "Message",
    sendMessage: "Send Message",
    footerText: "© 2025 Auto Premium Consultancy. All rights reserved.",
    select: "Select",
    luxury: "Luxury",
    medium: "Medium",
    economic: "Economic",
    low: "Low",
    medium: "Medium",
    high: "High",
    families: "Families",
    young: "Young",
    executives: "Executives",
    center: "Center",
    suburbs: "Suburbs",
    beach: "Near the Beach",
    sedan: "Sedan",
    suv: "SUV",
    hatchback: "Hatchback",
    coupe: "Coupe",
    pickup: "Pickup",
    electric: "Electric",
    age18_25: "18-25 years",
    age26_40: "26-40 years",
    age41_60: "41-60 years",
    age60plus: "60+ years",
    positiveFeedback: "Thank you for the positive feedback! The confidence of this recommendation has been increased.",
    negativeFeedback: "Thank you for the feedback. We will improve our recommendations.",
    reportExported: "Report exported successfully!",
    recommendationCopied: "Recommendation copied to clipboard!",
    coordinatesNotAvailable: "Coordinates not available for this location.",
    restaurant: "Restaurant",
    parking: "Parking",
    supermarket: "Supermarket",
    pharmacy: "Pharmacy",
    distance: "Distance:",
    consultation: "Consultation",
    history: "History",
    about: "About Us",
    contactLink: "Contact"
  }
};

export let currentLanguage = localStorage.getItem('language') || 'pt';

export function setLanguage(lang) {
  currentLanguage = lang;
  localStorage.setItem('language', lang);
  // Reload the page after changing language to apply changes fully
  location.reload();
}

updateTexts();

function updateTexts() {
  const t = translations[currentLanguage];
  document.title = t.title;
  document.querySelector('.navbar-brand').textContent = t.title;
  document.querySelector('.hero h1').textContent = t.heroTitle;
  document.querySelector('.hero p').textContent = t.heroSubtitle;
  document.querySelector('.hero .btn').textContent = t.startConsultation;
  document.querySelector('.alert strong').textContent = t.innovativeMethod;
  document.querySelector('.alert').childNodes[2].textContent = t.innovativeDescription;
  document.querySelector('#consultoria h2').textContent = t.consultationTool;
  document.querySelector('#consultoria p').textContent = t.consultationDescription;
  document.querySelector('label[for="gama"]').textContent = t.typeOfRange;
  document.querySelector('label[for="orcamento"]').textContent = t.budget;
  document.querySelector('label[for="cliente"]').textContent = t.clientType;
  document.querySelector('label[for="localizacao"]').textContent = t.locationPreference;
  document.querySelector('label[for="localEspecifico"]').textContent = t.specificLocation;
  document.querySelector('.form-text').textContent = t.specificLocationHelp;
  document.querySelector('.btn[data-bs-toggle="collapse"]').textContent = t.advancedFilters;
  document.querySelector('label[for="faixaOrcamento"]').textContent = t.budgetRange;
  document.querySelector('#orcamentoMin').placeholder = t.minimum;
  document.querySelector('#orcamentoMax').placeholder = t.maximum;
  document.querySelector('label[for="tiposCarro"]').textContent = t.carTypes;
  document.querySelector('#tiposCarro').nextElementSibling.textContent = t.carTypesHelp;
  document.querySelector('label[for="faixaEtaria"]').textContent = t.clientAgeRange;
  document.querySelector('label[for="nivelRendimento"]').textContent = t.incomeLevel;
  document.querySelector('#consultoriaForm button[type="submit"]').textContent = t.generateRecommendation;
  document.querySelector('#resultado h2').textContent = t.personalizedRecommendation;
  document.querySelector('#resultado').querySelectorAll('p')[1].textContent = t.wasThisUseful;
  document.querySelector('#thumbsUp').innerHTML = `<i class="fas fa-thumbs-up"></i> ${t.yes}`;
  document.querySelector('#thumbsDown').innerHTML = `<i class="fas fa-thumbs-down"></i> ${t.no}`;
  document.querySelector('#exportBtn').innerHTML = `<i class="fas fa-download"></i> ${t.exportReport}`;
  document.querySelector('#shareBtn').innerHTML = `<i class="fas fa-share"></i> ${t.share}`;
  document.querySelector('#directionsBtn').innerHTML = `<i class="fas fa-route"></i> ${t.directions}`;
  document.querySelector('#nearbyAmenities h6').textContent = t.nearbyAmenities;
  document.querySelector('#comparacaoSection h5').textContent = t.comparisonTitle;
  document.querySelector('#historico h2').textContent = t.historyTitle;
  document.querySelector('#historico p').textContent = t.historyDescription;
  //document.querySelector('#showMoreHistoricoBtn').textContent = t.more;
  document.querySelector('#limparHistorico').textContent = t.clearHistory;
  const statsH3 = document.querySelectorAll('.stats h3');
  statsH3[0].nextElementSibling.textContent = t.recommendationsGenerated;
  statsH3[1].nextElementSibling.textContent = t.clientSatisfaction;
  statsH3[2].nextElementSibling.textContent = t.yearsExperience;
  statsH3[3].nextElementSibling.textContent = t.locationsPorto;
  document.querySelector('.bg-light h2.mb-5').textContent = t.testimonialsTitle;
  document.querySelectorAll('.testimonial p')[0].textContent = t.testimonial1;
  document.querySelectorAll('.testimonial cite')[0].textContent = t.testimonialAuthor1;
  document.querySelectorAll('.testimonial p')[1].textContent = t.testimonial2;
  document.querySelectorAll('.testimonial cite')[1].textContent = t.testimonialAuthor2;
  document.querySelectorAll('.testimonial p')[2].textContent = t.testimonial3;
  document.querySelectorAll('.testimonial cite')[2].textContent = t.testimonialAuthor3;

  document.querySelector('#porque h2').textContent = t.whyChooseUs;
  const porque = document.querySelector('#porque');

  if (porque) {
    const titulo = porque.querySelectorAll('h5');
    const desc = porque.querySelectorAll('p');

    titulo[0].textContent = t.advancedAI;
    titulo[1].textContent = t.dataAnalysis;
    titulo[2].textContent = t.personalizedSupport;

    desc[0].textContent = t.advancedAIDescription;
    desc[1].textContent = t.dataAnalysisDescription;
    desc[2].textContent = t.personalizedSupportDescription;

  }
  document.querySelector('#sobre h2').textContent = t.aboutUs;
  document.querySelector('#sobre p').textContent = t.aboutUsDescription;
  document.querySelector('#analytics h2').textContent = t.analyticsTitle;
  document.querySelector('#analytics p').textContent = t.analyticsDescription;
  document.querySelector('#contacto h2').textContent = t.contact;
  document.querySelector('label[for="nome"]').textContent = t.name;
  document.querySelector('label[for="email"]').textContent = t.email;
  document.querySelector('label[for="mensagem"]').textContent = t.message;
  document.querySelector('#contacto button').textContent = t.sendMessage;
  //document.querySelector('footer p').textContent = t.footerText;

  // Navbar links
  const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
  navLinks[0].textContent = t.consultation;
  navLinks[1].textContent = t.history;
  navLinks[2].textContent = t.analytics;
  navLinks[3].textContent = t.about;
  navLinks[4].textContent = t.contactLink;

  // Select options
  const selects = document.querySelectorAll('select');
  selects.forEach(select => {
    const options = select.querySelectorAll('option');
    options[0].textContent = t.select;
    if (select.id === 'gama') {
      options[1].textContent = t.luxury;
      options[2].textContent = t.medium;
      options[3].textContent = t.economic;
    } else if (select.id === 'orcamento') {
      options[1].textContent = t.low;
      options[2].textContent = t.medium;
      options[3].textContent = t.high;
    } else if (select.id === 'cliente') {
      options[1].textContent = t.families;
      options[2].textContent = t.young;
      options[3].textContent = t.executives;
    } else if (select.id === 'localizacao') {
      options[1].textContent = t.center;
      options[2].textContent = t.suburbs;
      options[3].textContent = t.beach;
    } else if (select.id === 'tiposCarro') {
      // Multiple select
    } else if (select.id === 'faixaEtaria') {
      options[1].textContent = t.age18_25;
      options[2].textContent = t.age26_40;
      options[3].textContent = t.age41_60;
      options[4].textContent = t.age60plus;
    } else if (select.id === 'nivelRendimento') {
      options[1].textContent = t.low;
      options[2].textContent = t.medium;
      options[3].textContent = t.high;
    }
  });

  // Car types options
  const carTypeOptions = document.querySelectorAll('#tiposCarro option');
  carTypeOptions[0].textContent = t.sedan;
  carTypeOptions[1].textContent = t.suv;
  carTypeOptions[2].textContent = t.hatchback;
  carTypeOptions[3].textContent = t.coupe;
  carTypeOptions[4].textContent = t.pickup;
  carTypeOptions[5].textContent = t.electric;
}
